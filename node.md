<!--
 * @Description: 
 * @Author: snow.wu
 * @Date: 2019-08-16 10:14:08
 * @LastEditors: snow.wu
 * @LastEditTime: 2019-08-29 16:23:44
 -->
#node 笔记
### 关键字
单线程 
多线程
进程
多线程要处处在意同步问题
死锁
线程上下文交换单来的性能上的开销
子进程的出现可以让单线程的node利用多核cpu，可以将计算分发到各个子进程中，然后通过进程之间的事件消息来传递结果


### commonJS 模块
* commonJS 对模块的定义主要分为：
    * 模块引用： require('math')
    * 模块定义： 一个文件就是一个模块，将文件中的方法挂载在exports对象上导出
    * 模块标识：标识模块就是传递给require()方法的参数，可以是小驼峰命名的字符串，可以是相对路径或绝对路径
* require
    * 引入模块： 路径分析 -> 文件定位 -> 编译执行;
    * require 的意义是将类聚的方法和变量限定在私有的作用域中
    * requrie 方法方法对应相同模块的二次加载使用缓存优先的策略
    * node进行的缓存是缓存编译后的文件。
    * require 方法会将文件转化为真实路径作为索引，将编译执行后的结果放在缓存中，以使二次加载时更快。
    * 文件拓展名：node 会按照 .js .json .node的次序补上拓展名，依次尝试。如果是 .json .node 的文件，显示的指明这个文件的格式，会大幅度缓解Node单线程阻塞式调用的缺陷。
* 模块
    * 模块分为Node的核心模块(node编译的过程中，部分直接加载到内存中)，和用户编写的文件模块
    * 模块加载速度 缓存>核心模块>路径形式的模块>自定义模块
    * 文件路径的查找规则： 当前文件目录下的node_modeules,父目录下的node_modules,父目录的父目录下的node_modules
    * 

### javascript 单线程
* [资料来源](https://www.jianshu.com/p/f478f15c1671)
* 进程与线程
     * 进程相当于工厂，进程相当于工厂中的工人，一个进程可以有多个线程（单线程多线程），不同进程之间交流的成本较高
     * JS的运行环境决定了JS最好是单线程，如果是多线程，那么线程之间的同步问题将成为一个麻烦
     * HTML5 的webworker标准 为了充分利用多核CPU的能力，允许js脚本创建多个线程，但是分主线程和子线程，子线程完全受主线程控制，且子线程不得操作DOM元素，并没有改变单线程的本质。